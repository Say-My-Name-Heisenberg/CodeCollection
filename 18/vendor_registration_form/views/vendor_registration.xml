<odoo>
    <!-- Tree View -->
    <record id="view_vendor_registration_tree" model="ir.ui.view">
        <field name="name">vendor.registration.tree</field>
        <field name="model">vendor.registration</field>
        <field name="arch" type="xml">
            <list string="Vendor Registration">
                <field name="name"/>
                <field name="business_type"/>
                <field name="email"/>
                <field name="phone"/>
                <field name="download_form" optional="hide"/>
                <field name="state" widget="badge"/>
            </list>
        </field>
    </record>

    <!-- Form View -->
    <record id="view_vendor_registration_form" model="ir.ui.view">
        <field name="name">vendor.registration.form</field>
        <field name="model">vendor.registration</field>
        <field name="arch" type="xml">
            <form string="Vendor Registration">
                <header>
                    <button name="action_send_to_purchase" string="Send to Purchase User" type="object"
                            class="btn-primary" invisible="state != 'draft'"/>
                    <button name="action_send_to_legal" string="Send to Legal" type="object"
                            class="btn-primary" invisible="state != 'purchase_user'"/>
                    <button name="action_send_to_senior_accountant" string="Send to Senior Accountant" type="object"
                            class="btn-primary" invisible="state != 'legal'"/>
                    <button name="action_approve" string="Approve" type="object"
                            class="btn-success" invisible="state != 'senior_accountant'"/>
                    <button name="action_create_vendor" string="Create Vendor" type="object"
                            class="btn-success" invisible="state != 'approved' or vendor_created == True"/>
                    <button name="action_cancel" string="Cancel" type="object"
                            class="btn-secondary" invisible="state in ('draft','cancelled') or vendor_created == True"/>
                    <button name="action_set_to_draft" string="Set to Draft" type="object"
                            class="btn-secondary" invisible="state != 'cancelled'"/>
                    <field name="state" widget="statusbar"
                           statusbar_visible="draft,purchase_user,legal,senior_accountant,approved"
                    />
                    <button name="action_reject" string="Reject" type="object"
                            class="btn-danger" invisible="state  in ('rejected','cancelled') or vendor_created == True"/>
                </header>

                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button
                                type="object"
                                name="action_view_vendor"
                                class="oe_stat_button"
                                icon="fa-user"
                                invisible="vendor_created == False"
                        >
                            <div class="o_stat_info">
                                <span class="o_stat_text">Vendor</span>
                            </div>
                        </button>
                    </div>
                    <widget
                            name="web_ribbon"
                            title="Vendor"
                            bg_color="text-bg-success"
                            invisible="vendor_created == False"
                    />
                    <group>
                    <group string="Company Details">
                        <field name="name" required="1" readonly="state != 'draft'"/>
                        <field name="business_type" required="1" readonly="state != 'draft'"/>
                        <field name="vendor_category" readonly="state != 'draft'"/>
                        <field name="products_services" required="1" readonly="state != 'draft'"/>
                        <field name="website" required="1" readonly="state != 'draft'"/>
                        <field name="company_info" readonly="state != 'draft'" invisible="1"/>
                    </group>
                    <group string="Address">
                        <!--<field name="company_address"/>-->
                        <field name="street1" required="1" readonly="state != 'draft'"/>
                        <field name="street2" required="1" readonly="state != 'draft'"/>
                        <field name="city" required="1" readonly="state != 'draft'"/>
                        <field name="region" required="1" readonly="state != 'draft'"/>
                        <field name="postal_code" required="1" readonly="state != 'draft'"/>
                        <field name="country" required="1" readonly="state != 'draft'"/>
                    </group>
                    </group>
                    <group string="Representative Contact">
                        <field name="representative_name" required="1" readonly="state != 'draft'"/>
                        <field name="email" required="1" readonly="state != 'draft'"/>
                        <field name="phone" required="1" readonly="state != 'draft'"/>
                    </group>
                   <group string="Documents">
                    <group>
                        <field name="id_authorised_filename" invisible="1"/>
                        <field name="cr_copy_filename" invisible="1"/>
                        <field name="vat_certificate_filename" invisible="1"/>
                        <field name="tax_certificate_filename" invisible="1"/>
                        <field name="stamped_bank_account_filename" invisible="1"/>
                        <field name="id_authorised" filename="id_authorised_filename" readonly="state != 'draft'" options="{'can_delete': True}"/>
                        <field name="cr_copy" filename="cr_copy_filename" readonly="state != 'draft'" options="{'can_delete': True}"/>
                        <field name="vat_certificate" filename="vat_certificate_filename" readonly="state != 'draft'" options="{'can_delete': True}"/>
                        <field name="tax_certificate" filename="tax_certificate_filename" readonly="state != 'draft'" options="{'can_delete': True}"/>
                        <field name="stamped_bank_account" filename="stamped_bank_account_filename" readonly="state != 'draft'" options="{'can_delete': True}"/>
                    </group>
                     <group>
                        <field name="download_form" invisible="1"/>
                        <field name="uploaded_form_filename" invisible="1"/>
                        <field name="uploaded_form" filename="uploaded_form_filename" readonly="state != 'draft'"/>
                        <!--<field name="uploaded_form_attachment_id" readonly="1"/>-->

                        <!-- Download button -->
                        <!-- <button
                            string="Download Uploaded Form"
                            type="object"
                            name="action_download_uploaded_form"
                            class="btn-secondary"
                           
                        /> -->
                    </group>
                    </group>
                    <group name="rejection" string="Rejected Reason">
                        <field name="rejection_reason" readonly="state in ('rejected','cancelled') or vendor_created"/>
                    </group>
                </sheet>
                <chatter>
                    <field name="message_ids" widget="mail_thread"/>
                </chatter>
            </form>
        </field>
    </record>
  <record id="action_vendor_registration" model="ir.actions.act_window">
        <field name="name">Vendor Registrations</field>
        <field name="res_model">vendor.registration</field>
        <field name="view_mode">list,form</field>
        <field name="context">{}</field>
    </record>
    <!-- Menu Item -->
    <menuitem id="menu_vendor_registration" web_icon="vendor_registration_form,static/description/delivery_icon.png"
              name="Vendor Registration"
              sequence="10"/>

    <menuitem id="submenu_vendor_registration" name="Vendor Registrations"
              parent="menu_vendor_registration" action="action_vendor_registration"/>

    <!-- Action for the menu item -->

</odoo>
